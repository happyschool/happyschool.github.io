{"version":3,"sources":["webpack:///./src/components/Panel.js","webpack:///./src/utils/i18n.js","webpack:///./src/templates/blog-post.js","webpack:///./node_modules/core-js/modules/es6.array.sort.js","webpack:///./node_modules/core-js/modules/_strict-method.js","webpack:///./node_modules/core-js/modules/es6.regexp.constructor.js","webpack:///./node_modules/core-js/modules/_inherit-if-required.js","webpack:///./node_modules/core-js/modules/_set-proto.js","webpack:///./node_modules/core-js/modules/_object-gopd.js","webpack:///./node_modules/core-js/modules/_object-gopn.js","webpack:///./i18n.js"],"names":["Panel","_ref","children","_ref$style","style","react_default","a","createElement","Object","assign","fontSize","border","borderRadius","padding","background","wordBreak","codeToLanguage","code","supportedLanguages","replace","Translations","render","_this$props","this","props","translations","lang","languageLink","hasRussianTranslation","editUrl","indexOf","className","components_Panel","fontFamily","length","gatsby_browser_entry","to","React","Component","BlogPostTemplate","post","data","markdownRemark","siteTitle","get","_this$props$pageConte","pageContext","previous","next","slug","translatedLinks","fields","langKey","html","forEach","link","translatedLink","RegExp","slice","sort","b","__webpack_require__","e","then","t","bind","loadFontsForCode","rawSlug","targetLang","createLanguageLink","enSlug","Layout","location","title","SEO","frontmatter","description","spoiler","color","scale","display","marginBottom","rhythm","marginTop","formatPostDate","date","formatReadingTime","timeToRead","blog_post_Translations","href","video","dangerouslySetInnerHTML","__html","target","rel","boxShadow","textDecoration","Bio","flexWrap","justifyContent","listStyle","marginRight","pageQuery","$export","aFunction","toObject","fails","$sort","test","P","F","undefined","comparefn","call","module","exports","method","arg","global","inheritIfRequired","dP","f","gOPN","isRegExp","$flags","$RegExp","Base","proto","prototype","re1","re2","CORRECT_NEW","p","tiRE","piRE","fiU","constructor","source","proxy","key","configurable","set","it","keys","i","isObject","setPrototypeOf","that","C","S","anObject","check","O","TypeError","buggy","Function","Array","__proto__","pIE","createDesc","toIObject","toPrimitive","has","IE8_DOM_DEFINE","gOPD","getOwnPropertyDescriptor","$keys","hiddenKeys","concat","getOwnPropertyNames","en","zh"],"mappings":"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","file":"component---src-templates-blog-post-js-9a748339d0fc089fe875.js","sourcesContent":["import React from 'react';\n\nfunction Panel({ children, style = {} }) {\n  return (\n    <p\n      style={{\n        fontSize: '0.9em',\n        border: '1px solid var(--hr)',\n        borderRadius: '0.75em',\n        padding: '0.75em',\n        background: 'var(--inlineCode-bg)',\n        wordBreak: 'keep-all',\n        ...style,\n      }}\n    >\n      {children}\n    </p>\n  );\n}\n\nexport default Panel;\n","import { supportedLanguages } from './../../i18n';\n\n// This is kind of a mess for some languages.\n// Try to be as short as possible.\n// Make sure you use a real code (e.g. \"ja\", not \"jp\").\n// Some resources:\n// http://www.rfc-editor.org/rfc/bcp/bcp47.txt\n// https://www.w3.org/International/articles/language-tags/\n// https://www.iana.org/assignments/language-subtag-registry/language-subtag-registry\n// https://discuss.httparchive.org/t/what-are-the-invalid-uses-of-the-lang-attribute/1022\n\nexport const codeToLanguage = code =>\n  supportedLanguages[code].replace(/ /g, ' ' /* nbsp */);\n\nexport const loadFontsForCode = code => {\n  switch (code) {\n    case 'ru':\n    case 'bg':\n      import('../fonts/fonts-shared.cyrillic.css');\n      import('../fonts/fonts-post.cyrillic.css');\n      break;\n    case 'uk':\n      import('../fonts/fonts-shared.cyrillic.css');\n      import('../fonts/fonts-post.cyrillic.css');\n      import('../fonts/fonts-shared.latin-ext.css');\n      import('../fonts/fonts-post.latin-ext.css');\n      break;\n    case 'cs':\n    case 'da':\n    case 'de':\n    case 'es':\n    case 'fi':\n    case 'fr':\n    case 'hu':\n    case 'it':\n    case 'nl':\n    case 'no':\n    case 'pl':\n    case 'pt-br':\n    case 'sk':\n    case 'sr':\n    case 'sq':\n    case 'sv':\n    case 'tr':\n      import('../fonts/fonts-shared.latin-ext.css');\n      import('../fonts/fonts-post.latin-ext.css');\n      break;\n    case 'vi':\n      import('../fonts/fonts-shared.vietnamese.css');\n      import('../fonts/fonts-post.vietnamese.css');\n      break;\n    case 'fa':\n      import('../fonts/fonts-post.persian.css');\n      break;\n    case 'ar':\n      import('../fonts/fonts-post.arabic.css');\n      break;\n    default:\n      break;\n  }\n};\n\n// TODO: the curried signature is weird.\nexport const createLanguageLink = (slug, lang) => {\n  const rawSlug = slug.replace(`${lang}/`, '');\n\n  return targetLang =>\n    targetLang === 'en' ? rawSlug : `${targetLang}${rawSlug}`;\n};\n","import React from 'react';\nimport { Link, graphql } from 'gatsby';\nimport get from 'lodash/get';\n\nimport '../fonts/fonts-post.css';\nimport Bio from '../components/Bio';\nimport Layout from '../components/Layout';\nimport SEO from '../components/SEO';\nimport Panel from '../components/Panel';\nimport { formatPostDate, formatReadingTime } from '../utils/helpers';\nimport { rhythm, scale } from '../utils/typography';\nimport {\n  codeToLanguage,\n  createLanguageLink,\n  loadFontsForCode,\n} from '../utils/i18n';\n\nconst GITHUB_USERNAME = 'happypeter';\nconst GITHUB_REPO_NAME = 'happyschool';\nconst systemFont = `system-ui, -apple-system, BlinkMacSystemFont, \"Segoe UI\",\n    \"Roboto\", \"Oxygen\", \"Ubuntu\", \"Cantarell\", \"Fira Sans\",\n    \"Droid Sans\", \"Helvetica Neue\", sans-serif`;\n\nclass Translations extends React.Component {\n  render() {\n    let { translations, lang, languageLink, editUrl } = this.props;\n\n    let hasRussianTranslation = translations.indexOf('ru') !== -1;\n\n    return (\n      <div className=\"translations\">\n        <Panel style={{ fontFamily: systemFont }}>\n          {translations.length > 0 && (\n            <span>\n              {hasRussianTranslation && (\n                <span>\n                  Originally written in:{' '}\n                  {'en' === lang ? (\n                    <b>{codeToLanguage('en')}</b>\n                  ) : (\n                    <Link to={languageLink('en')}>English</Link>\n                  )}\n                  <br />\n                  <br />\n                </span>\n              )}\n              <span>Language: </span>\n              {lang === 'en' ? (\n                <Link to={languageLink('zh')}>{codeToLanguage('zh')}</Link>\n              ) : (\n                <Link to={languageLink('en')}>{codeToLanguage('en')}</Link>\n              )}\n            </span>\n          )}\n        </Panel>\n      </div>\n    );\n  }\n}\n\nclass BlogPostTemplate extends React.Component {\n  render() {\n    const post = this.props.data.markdownRemark;\n    const siteTitle = get(this.props, 'data.site.siteMetadata.title');\n    let {\n      previous,\n      next,\n      slug,\n      translations,\n      translatedLinks,\n    } = this.props.pageContext;\n    const lang = post.fields.langKey;\n\n    // Replace original links with translated when available.\n    let html = post.html;\n    translatedLinks.forEach(link => {\n      // jeez\n      function escapeRegExp(str) {\n        return str.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&');\n      }\n      let translatedLink = '/' + lang + link;\n      html = html.replace(\n        new RegExp('\"' + escapeRegExp(link) + '\"', 'g'),\n        '\"' + translatedLink + '\"'\n      );\n    });\n\n    translations = translations.slice();\n    translations.sort((a, b) => {\n      return codeToLanguage(a) < codeToLanguage(b) ? -1 : 1;\n    });\n\n    loadFontsForCode(lang);\n    // TODO: this curried function is annoying\n    const languageLink = createLanguageLink(slug, lang);\n    const enSlug = languageLink('en');\n    const editUrl = `https://github.com/${GITHUB_USERNAME}/${GITHUB_REPO_NAME}/edit/master/src/pages/${enSlug.slice(\n      1,\n      enSlug.length - 1\n    )}/index${lang === 'en' ? '' : '.' + lang}.md`;\n\n    return (\n      <Layout location={this.props.location} title={siteTitle}>\n        <SEO\n          lang={lang}\n          title={post.frontmatter.title}\n          description={post.frontmatter.spoiler}\n          slug={post.fields.slug}\n        />\n        <main>\n          <article>\n            <header>\n              <h1 style={{ color: 'var(--textTitle)' }}>\n                {post.frontmatter.title}\n              </h1>\n              <p\n                style={{\n                  ...scale(-1 / 5),\n                  display: 'block',\n                  marginBottom: rhythm(1),\n                  marginTop: rhythm(-4 / 5),\n                }}\n              >\n                {formatPostDate(post.frontmatter.date, lang)}\n                {` • ${formatReadingTime(post.timeToRead)}`}\n              </p>\n              {translations.length > 0 && (\n                <Translations\n                  translations={translations}\n                  editUrl={editUrl}\n                  languageLink={languageLink}\n                  lang={lang}\n                />\n              )}\n            </header>\n            <div\n              style={{\n                marginBottom: 15,\n              }}\n            >\n              {lang === 'en' ? (\n                <a href={post.frontmatter.video}>Video at Youtube.com</a>\n              ) : (\n                <a href={post.frontmatter.video}>到 Bilibili 播放视频</a>\n              )}\n            </div>\n            <div dangerouslySetInnerHTML={{ __html: html }} />\n            <footer>\n              <p>\n                <a href={editUrl} target=\"_blank\" rel=\"noopener noreferrer\">\n                  Edit on GitHub\n                </a>\n              </p>\n            </footer>\n          </article>\n        </main>\n        <aside>\n          <h3\n            style={{\n              fontFamily: 'Montserrat, sans-serif',\n              marginTop: rhythm(0.25),\n            }}\n          >\n            <Link\n              style={{\n                boxShadow: 'none',\n                textDecoration: 'none',\n                color: '#8ce7f3',\n              }}\n              to={'/'}\n            >\n              HappySchool\n            </Link>\n          </h3>\n          <Bio lang={lang} />\n          <nav>\n            <ul\n              style={{\n                display: 'flex',\n                flexWrap: 'wrap',\n                justifyContent: 'space-between',\n                listStyle: 'none',\n                padding: 0,\n              }}\n            >\n              <li>\n                {previous && (\n                  <Link\n                    to={previous.fields.slug}\n                    rel=\"prev\"\n                    style={{ marginRight: 20 }}\n                  >\n                    ← {previous.frontmatter.title}\n                  </Link>\n                )}\n              </li>\n              <li>\n                {next && (\n                  <Link to={next.fields.slug} rel=\"next\">\n                    {next.frontmatter.title} →\n                  </Link>\n                )}\n              </li>\n            </ul>\n          </nav>\n        </aside>\n      </Layout>\n    );\n  }\n}\n\nexport default BlogPostTemplate;\n\nexport const pageQuery = graphql`\n  query BlogPostBySlug($slug: String!) {\n    site {\n      siteMetadata {\n        title\n        author\n      }\n    }\n    markdownRemark(fields: { slug: { eq: $slug } }) {\n      id\n      html\n      timeToRead\n      frontmatter {\n        title\n        date(formatString: \"MMMM DD, YYYY\")\n        spoiler\n        plink\n        video\n      }\n      fields {\n        slug\n        langKey\n      }\n    }\n  }\n`;\n","'use strict';\nvar $export = require('./_export');\nvar aFunction = require('./_a-function');\nvar toObject = require('./_to-object');\nvar fails = require('./_fails');\nvar $sort = [].sort;\nvar test = [1, 2, 3];\n\n$export($export.P + $export.F * (fails(function () {\n  // IE8-\n  test.sort(undefined);\n}) || !fails(function () {\n  // V8 bug\n  test.sort(null);\n  // Old WebKit\n}) || !require('./_strict-method')($sort)), 'Array', {\n  // 22.1.3.25 Array.prototype.sort(comparefn)\n  sort: function sort(comparefn) {\n    return comparefn === undefined\n      ? $sort.call(toObject(this))\n      : $sort.call(toObject(this), aFunction(comparefn));\n  }\n});\n","'use strict';\nvar fails = require('./_fails');\n\nmodule.exports = function (method, arg) {\n  return !!method && fails(function () {\n    // eslint-disable-next-line no-useless-call\n    arg ? method.call(null, function () { /* empty */ }, 1) : method.call(null);\n  });\n};\n","var global = require('./_global');\nvar inheritIfRequired = require('./_inherit-if-required');\nvar dP = require('./_object-dp').f;\nvar gOPN = require('./_object-gopn').f;\nvar isRegExp = require('./_is-regexp');\nvar $flags = require('./_flags');\nvar $RegExp = global.RegExp;\nvar Base = $RegExp;\nvar proto = $RegExp.prototype;\nvar re1 = /a/g;\nvar re2 = /a/g;\n// \"new\" creates a new object, old webkit buggy here\nvar CORRECT_NEW = new $RegExp(re1) !== re1;\n\nif (require('./_descriptors') && (!CORRECT_NEW || require('./_fails')(function () {\n  re2[require('./_wks')('match')] = false;\n  // RegExp constructor can alter flags and IsRegExp works correct with @@match\n  return $RegExp(re1) != re1 || $RegExp(re2) == re2 || $RegExp(re1, 'i') != '/a/i';\n}))) {\n  $RegExp = function RegExp(p, f) {\n    var tiRE = this instanceof $RegExp;\n    var piRE = isRegExp(p);\n    var fiU = f === undefined;\n    return !tiRE && piRE && p.constructor === $RegExp && fiU ? p\n      : inheritIfRequired(CORRECT_NEW\n        ? new Base(piRE && !fiU ? p.source : p, f)\n        : Base((piRE = p instanceof $RegExp) ? p.source : p, piRE && fiU ? $flags.call(p) : f)\n      , tiRE ? this : proto, $RegExp);\n  };\n  var proxy = function (key) {\n    key in $RegExp || dP($RegExp, key, {\n      configurable: true,\n      get: function () { return Base[key]; },\n      set: function (it) { Base[key] = it; }\n    });\n  };\n  for (var keys = gOPN(Base), i = 0; keys.length > i;) proxy(keys[i++]);\n  proto.constructor = $RegExp;\n  $RegExp.prototype = proto;\n  require('./_redefine')(global, 'RegExp', $RegExp);\n}\n\nrequire('./_set-species')('RegExp');\n","var isObject = require('./_is-object');\nvar setPrototypeOf = require('./_set-proto').set;\nmodule.exports = function (that, target, C) {\n  var S = target.constructor;\n  var P;\n  if (S !== C && typeof S == 'function' && (P = S.prototype) !== C.prototype && isObject(P) && setPrototypeOf) {\n    setPrototypeOf(that, P);\n  } return that;\n};\n","// Works with __proto__ only. Old v8 can't work with null proto objects.\n/* eslint-disable no-proto */\nvar isObject = require('./_is-object');\nvar anObject = require('./_an-object');\nvar check = function (O, proto) {\n  anObject(O);\n  if (!isObject(proto) && proto !== null) throw TypeError(proto + \": can't set as prototype!\");\n};\nmodule.exports = {\n  set: Object.setPrototypeOf || ('__proto__' in {} ? // eslint-disable-line\n    function (test, buggy, set) {\n      try {\n        set = require('./_ctx')(Function.call, require('./_object-gopd').f(Object.prototype, '__proto__').set, 2);\n        set(test, []);\n        buggy = !(test instanceof Array);\n      } catch (e) { buggy = true; }\n      return function setPrototypeOf(O, proto) {\n        check(O, proto);\n        if (buggy) O.__proto__ = proto;\n        else set(O, proto);\n        return O;\n      };\n    }({}, false) : undefined),\n  check: check\n};\n","var pIE = require('./_object-pie');\nvar createDesc = require('./_property-desc');\nvar toIObject = require('./_to-iobject');\nvar toPrimitive = require('./_to-primitive');\nvar has = require('./_has');\nvar IE8_DOM_DEFINE = require('./_ie8-dom-define');\nvar gOPD = Object.getOwnPropertyDescriptor;\n\nexports.f = require('./_descriptors') ? gOPD : function getOwnPropertyDescriptor(O, P) {\n  O = toIObject(O);\n  P = toPrimitive(P, true);\n  if (IE8_DOM_DEFINE) try {\n    return gOPD(O, P);\n  } catch (e) { /* empty */ }\n  if (has(O, P)) return createDesc(!pIE.f.call(O, P), O[P]);\n};\n","// 19.1.2.7 / 15.2.3.4 Object.getOwnPropertyNames(O)\nvar $keys = require('./_object-keys-internal');\nvar hiddenKeys = require('./_enum-bug-keys').concat('length', 'prototype');\n\nexports.f = Object.getOwnPropertyNames || function getOwnPropertyNames(O) {\n  return $keys(O, hiddenKeys);\n};\n","// Please keep keys lowercase!\nexports.supportedLanguages = {\n  en: 'English',\n  zh: '简体中文',\n};\n"],"sourceRoot":""}