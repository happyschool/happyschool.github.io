{"version":3,"sources":["webpack:///./src/utils/i18n.js","webpack:///./src/templates/blog-post.js","webpack:///./node_modules/core-js/modules/es6.array.sort.js","webpack:///./node_modules/core-js/modules/_strict-method.js","webpack:///./node_modules/core-js/modules/es6.regexp.constructor.js","webpack:///./node_modules/core-js/modules/_inherit-if-required.js","webpack:///./node_modules/core-js/modules/_set-proto.js","webpack:///./node_modules/core-js/modules/_object-gopd.js","webpack:///./node_modules/core-js/modules/_object-gopn.js","webpack:///./i18n.js"],"names":["codeToLanguage","code","supportedLanguages","replace","Translations","render","_this$props","this","props","translations","lang","languageLink","editUrl","readerTranslations","filter","hasRussianTranslation","indexOf","react_default","a","createElement","className","Panel","style","fontFamily","length","gatsby_browser_entry","to","map","l","i","Fragment","key","href","target","rel","React","Component","BlogPostTemplate","post","data","markdownRemark","siteTitle","get","_this$props$pageConte","pageContext","previous","next","slug","translatedLinks","fields","langKey","html","forEach","link","translatedLink","RegExp","slice","sort","b","__webpack_require__","e","then","t","bind","loadFontsForCode","rawSlug","targetLang","createLanguageLink","enSlug","encodeURIComponent","Layout","location","title","SEO","frontmatter","description","spoiler","color","Object","assign","scale","display","marginBottom","rhythm","marginTop","formatPostDate","date","formatReadingTime","timeToRead","blog_post_Translations","video","dangerouslySetInnerHTML","__html","boxShadow","textDecoration","Bio","flexWrap","justifyContent","listStyle","padding","marginRight","pageQuery","$export","aFunction","toObject","fails","$sort","test","P","F","undefined","comparefn","call","module","exports","method","arg","global","inheritIfRequired","dP","f","gOPN","isRegExp","$flags","$RegExp","Base","proto","prototype","re1","re2","CORRECT_NEW","p","tiRE","piRE","fiU","constructor","source","proxy","configurable","set","it","keys","isObject","setPrototypeOf","that","C","S","anObject","check","O","TypeError","buggy","Function","Array","__proto__","pIE","createDesc","toIObject","toPrimitive","has","IE8_DOM_DEFINE","gOPD","getOwnPropertyDescriptor","$keys","hiddenKeys","concat","getOwnPropertyNames","en","zh"],"mappings":"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","file":"component---src-templates-blog-post-js-d545cbafaef1a7181342.js","sourcesContent":["import { supportedLanguages } from './../../i18n';\n\n// This is kind of a mess for some languages.\n// Try to be as short as possible.\n// Make sure you use a real code (e.g. \"ja\", not \"jp\").\n// Some resources:\n// http://www.rfc-editor.org/rfc/bcp/bcp47.txt\n// https://www.w3.org/International/articles/language-tags/\n// https://www.iana.org/assignments/language-subtag-registry/language-subtag-registry\n// https://discuss.httparchive.org/t/what-are-the-invalid-uses-of-the-lang-attribute/1022\n\nexport const codeToLanguage = code =>\n  supportedLanguages[code].replace(/ /g, ' ' /* nbsp */);\n\nexport const loadFontsForCode = code => {\n  switch (code) {\n    case 'ru':\n    case 'bg':\n      import('../fonts/fonts-shared.cyrillic.css');\n      import('../fonts/fonts-post.cyrillic.css');\n      break;\n    case 'uk':\n      import('../fonts/fonts-shared.cyrillic.css');\n      import('../fonts/fonts-post.cyrillic.css');\n      import('../fonts/fonts-shared.latin-ext.css');\n      import('../fonts/fonts-post.latin-ext.css');\n      break;\n    case 'cs':\n    case 'da':\n    case 'de':\n    case 'es':\n    case 'fi':\n    case 'fr':\n    case 'hu':\n    case 'it':\n    case 'nl':\n    case 'no':\n    case 'pl':\n    case 'pt-br':\n    case 'sk':\n    case 'sr':\n    case 'sq':\n    case 'sv':\n    case 'tr':\n      import('../fonts/fonts-shared.latin-ext.css');\n      import('../fonts/fonts-post.latin-ext.css');\n      break;\n    case 'vi':\n      import('../fonts/fonts-shared.vietnamese.css');\n      import('../fonts/fonts-post.vietnamese.css');\n      break;\n    case 'fa':\n      import('../fonts/fonts-post.persian.css');\n      break;\n    case 'ar':\n      import('../fonts/fonts-post.arabic.css');\n      break;\n    default:\n      break;\n  }\n};\n\n// TODO: the curried signature is weird.\nexport const createLanguageLink = (slug, lang) => {\n  const rawSlug = slug.replace(`${lang}/`, '');\n\n  return targetLang =>\n    targetLang === 'en' ? rawSlug : `${targetLang}${rawSlug}`;\n};\n","import React from 'react';\nimport { Link, graphql } from 'gatsby';\nimport get from 'lodash/get';\n\nimport '../fonts/fonts-post.css';\nimport Bio from '../components/Bio';\nimport Layout from '../components/Layout';\nimport SEO from '../components/SEO';\nimport Panel from '../components/Panel';\nimport { formatPostDate, formatReadingTime } from '../utils/helpers';\nimport { rhythm, scale } from '../utils/typography';\nimport {\n  codeToLanguage,\n  createLanguageLink,\n  loadFontsForCode,\n} from '../utils/i18n';\n\nconst GITHUB_USERNAME = 'gaearon';\nconst GITHUB_REPO_NAME = 'overreacted.io';\nconst systemFont = `system-ui, -apple-system, BlinkMacSystemFont, \"Segoe UI\",\n    \"Roboto\", \"Oxygen\", \"Ubuntu\", \"Cantarell\", \"Fira Sans\",\n    \"Droid Sans\", \"Helvetica Neue\", sans-serif`;\n\nclass Translations extends React.Component {\n  render() {\n    let { translations, lang, languageLink, editUrl } = this.props;\n\n    let readerTranslations = translations.filter(lang => lang !== 'ru');\n    let hasRussianTranslation = translations.indexOf('ru') !== -1;\n\n    return (\n      <div className=\"translations\">\n        <Panel style={{ fontFamily: systemFont }}>\n          {translations.length > 0 && (\n            <span>\n              {hasRussianTranslation && (\n                <span>\n                  Originally written in:{' '}\n                  {'en' === lang ? (\n                    <b>{codeToLanguage('en')}</b>\n                  ) : (\n                    <Link to={languageLink('en')}>English</Link>\n                  )}\n                  {' • '}\n                  {'ru' === lang ? (\n                    <b>Русский (авторский перевод)</b>\n                  ) : (\n                    <Link to={languageLink('ru')}>\n                      Русский (авторский перевод)\n                    </Link>\n                  )}\n                  <br />\n                  <br />\n                </span>\n              )}\n              <span>Translated by readers into: </span>\n              {readerTranslations.map((l, i) => (\n                <React.Fragment key={l}>\n                  {l === lang ? (\n                    <b>{codeToLanguage(l)}</b>\n                  ) : (\n                    <Link to={languageLink(l)}>{codeToLanguage(l)}</Link>\n                  )}\n                  {i === readerTranslations.length - 1 ? '' : ' • '}\n                </React.Fragment>\n              ))}\n            </span>\n          )}\n          {lang !== 'en' && (\n            <>\n              <br />\n              <br />\n              {lang !== 'ru' && (\n                <>\n                  <Link to={languageLink('en')}>Read the original</Link>\n                  {' • '}\n                  <a href={editUrl} target=\"_blank\" rel=\"noopener noreferrer\">\n                    Improve this translation\n                  </a>\n                  {' • '}\n                </>\n              )}\n              <Link to={`/${lang}`}>View all translated posts</Link>{' '}\n            </>\n          )}\n        </Panel>\n      </div>\n    );\n  }\n}\n\nclass BlogPostTemplate extends React.Component {\n  render() {\n    const post = this.props.data.markdownRemark;\n    const siteTitle = get(this.props, 'data.site.siteMetadata.title');\n    let {\n      previous,\n      next,\n      slug,\n      translations,\n      translatedLinks,\n    } = this.props.pageContext;\n    const lang = post.fields.langKey;\n\n    // Replace original links with translated when available.\n    let html = post.html;\n    translatedLinks.forEach(link => {\n      // jeez\n      function escapeRegExp(str) {\n        return str.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&');\n      }\n      let translatedLink = '/' + lang + link;\n      html = html.replace(\n        new RegExp('\"' + escapeRegExp(link) + '\"', 'g'),\n        '\"' + translatedLink + '\"'\n      );\n    });\n\n    translations = translations.slice();\n    translations.sort((a, b) => {\n      return codeToLanguage(a) < codeToLanguage(b) ? -1 : 1;\n    });\n\n    loadFontsForCode(lang);\n    // TODO: this curried function is annoying\n    const languageLink = createLanguageLink(slug, lang);\n    const enSlug = languageLink('en');\n    const editUrl = `https://github.com/${GITHUB_USERNAME}/${GITHUB_REPO_NAME}/edit/master/src/pages/${enSlug.slice(\n      1,\n      enSlug.length - 1\n    )}/index${lang === 'en' ? '' : '.' + lang}.md`;\n    const discussUrl = `https://mobile.twitter.com/search?q=${encodeURIComponent(\n      `https://overreacted.io${enSlug}`\n    )}`;\n\n    return (\n      <Layout location={this.props.location} title={siteTitle}>\n        <SEO\n          lang={lang}\n          title={post.frontmatter.title}\n          description={post.frontmatter.spoiler}\n          slug={post.fields.slug}\n        />\n        <main>\n          <article>\n            <header>\n              <h1 style={{ color: 'var(--textTitle)' }}>\n                {post.frontmatter.title}\n              </h1>\n              <p\n                style={{\n                  ...scale(-1 / 5),\n                  display: 'block',\n                  marginBottom: rhythm(1),\n                  marginTop: rhythm(-4 / 5),\n                }}\n              >\n                {formatPostDate(post.frontmatter.date, lang)}\n                {` • ${formatReadingTime(post.timeToRead)}`}\n              </p>\n              {translations.length > 0 && (\n                <Translations\n                  translations={translations}\n                  editUrl={editUrl}\n                  languageLink={languageLink}\n                  lang={lang}\n                />\n              )}\n            </header>\n            <a href={post.frontmatter.video}>Click To Play Video</a>\n\n            <div dangerouslySetInnerHTML={{ __html: html }} />\n            <footer>\n              <p>\n                <a href={editUrl} target=\"_blank\" rel=\"noopener noreferrer\">\n                  Edit on GitHub\n                </a>\n              </p>\n            </footer>\n          </article>\n        </main>\n        <aside>\n          <h3\n            style={{\n              fontFamily: 'Montserrat, sans-serif',\n              marginTop: rhythm(0.25),\n            }}\n          >\n            <Link\n              style={{\n                boxShadow: 'none',\n                textDecoration: 'none',\n                color: '#8ce7f3',\n              }}\n              to={'/'}\n            >\n              HappySchool\n            </Link>\n          </h3>\n          <Bio />\n          <nav>\n            <ul\n              style={{\n                display: 'flex',\n                flexWrap: 'wrap',\n                justifyContent: 'space-between',\n                listStyle: 'none',\n                padding: 0,\n              }}\n            >\n              <li>\n                {previous && (\n                  <Link\n                    to={previous.fields.slug}\n                    rel=\"prev\"\n                    style={{ marginRight: 20 }}\n                  >\n                    ← {previous.frontmatter.title}\n                  </Link>\n                )}\n              </li>\n              <li>\n                {next && (\n                  <Link to={next.fields.slug} rel=\"next\">\n                    {next.frontmatter.title} →\n                  </Link>\n                )}\n              </li>\n            </ul>\n          </nav>\n        </aside>\n      </Layout>\n    );\n  }\n}\n\nexport default BlogPostTemplate;\n\nexport const pageQuery = graphql`\n  query BlogPostBySlug($slug: String!) {\n    site {\n      siteMetadata {\n        title\n        author\n      }\n    }\n    markdownRemark(fields: { slug: { eq: $slug } }) {\n      id\n      html\n      timeToRead\n      frontmatter {\n        title\n        date(formatString: \"MMMM DD, YYYY\")\n        spoiler\n        plink\n        video\n      }\n      fields {\n        slug\n        langKey\n      }\n    }\n  }\n`;\n","'use strict';\nvar $export = require('./_export');\nvar aFunction = require('./_a-function');\nvar toObject = require('./_to-object');\nvar fails = require('./_fails');\nvar $sort = [].sort;\nvar test = [1, 2, 3];\n\n$export($export.P + $export.F * (fails(function () {\n  // IE8-\n  test.sort(undefined);\n}) || !fails(function () {\n  // V8 bug\n  test.sort(null);\n  // Old WebKit\n}) || !require('./_strict-method')($sort)), 'Array', {\n  // 22.1.3.25 Array.prototype.sort(comparefn)\n  sort: function sort(comparefn) {\n    return comparefn === undefined\n      ? $sort.call(toObject(this))\n      : $sort.call(toObject(this), aFunction(comparefn));\n  }\n});\n","'use strict';\nvar fails = require('./_fails');\n\nmodule.exports = function (method, arg) {\n  return !!method && fails(function () {\n    // eslint-disable-next-line no-useless-call\n    arg ? method.call(null, function () { /* empty */ }, 1) : method.call(null);\n  });\n};\n","var global = require('./_global');\nvar inheritIfRequired = require('./_inherit-if-required');\nvar dP = require('./_object-dp').f;\nvar gOPN = require('./_object-gopn').f;\nvar isRegExp = require('./_is-regexp');\nvar $flags = require('./_flags');\nvar $RegExp = global.RegExp;\nvar Base = $RegExp;\nvar proto = $RegExp.prototype;\nvar re1 = /a/g;\nvar re2 = /a/g;\n// \"new\" creates a new object, old webkit buggy here\nvar CORRECT_NEW = new $RegExp(re1) !== re1;\n\nif (require('./_descriptors') && (!CORRECT_NEW || require('./_fails')(function () {\n  re2[require('./_wks')('match')] = false;\n  // RegExp constructor can alter flags and IsRegExp works correct with @@match\n  return $RegExp(re1) != re1 || $RegExp(re2) == re2 || $RegExp(re1, 'i') != '/a/i';\n}))) {\n  $RegExp = function RegExp(p, f) {\n    var tiRE = this instanceof $RegExp;\n    var piRE = isRegExp(p);\n    var fiU = f === undefined;\n    return !tiRE && piRE && p.constructor === $RegExp && fiU ? p\n      : inheritIfRequired(CORRECT_NEW\n        ? new Base(piRE && !fiU ? p.source : p, f)\n        : Base((piRE = p instanceof $RegExp) ? p.source : p, piRE && fiU ? $flags.call(p) : f)\n      , tiRE ? this : proto, $RegExp);\n  };\n  var proxy = function (key) {\n    key in $RegExp || dP($RegExp, key, {\n      configurable: true,\n      get: function () { return Base[key]; },\n      set: function (it) { Base[key] = it; }\n    });\n  };\n  for (var keys = gOPN(Base), i = 0; keys.length > i;) proxy(keys[i++]);\n  proto.constructor = $RegExp;\n  $RegExp.prototype = proto;\n  require('./_redefine')(global, 'RegExp', $RegExp);\n}\n\nrequire('./_set-species')('RegExp');\n","var isObject = require('./_is-object');\nvar setPrototypeOf = require('./_set-proto').set;\nmodule.exports = function (that, target, C) {\n  var S = target.constructor;\n  var P;\n  if (S !== C && typeof S == 'function' && (P = S.prototype) !== C.prototype && isObject(P) && setPrototypeOf) {\n    setPrototypeOf(that, P);\n  } return that;\n};\n","// Works with __proto__ only. Old v8 can't work with null proto objects.\n/* eslint-disable no-proto */\nvar isObject = require('./_is-object');\nvar anObject = require('./_an-object');\nvar check = function (O, proto) {\n  anObject(O);\n  if (!isObject(proto) && proto !== null) throw TypeError(proto + \": can't set as prototype!\");\n};\nmodule.exports = {\n  set: Object.setPrototypeOf || ('__proto__' in {} ? // eslint-disable-line\n    function (test, buggy, set) {\n      try {\n        set = require('./_ctx')(Function.call, require('./_object-gopd').f(Object.prototype, '__proto__').set, 2);\n        set(test, []);\n        buggy = !(test instanceof Array);\n      } catch (e) { buggy = true; }\n      return function setPrototypeOf(O, proto) {\n        check(O, proto);\n        if (buggy) O.__proto__ = proto;\n        else set(O, proto);\n        return O;\n      };\n    }({}, false) : undefined),\n  check: check\n};\n","var pIE = require('./_object-pie');\nvar createDesc = require('./_property-desc');\nvar toIObject = require('./_to-iobject');\nvar toPrimitive = require('./_to-primitive');\nvar has = require('./_has');\nvar IE8_DOM_DEFINE = require('./_ie8-dom-define');\nvar gOPD = Object.getOwnPropertyDescriptor;\n\nexports.f = require('./_descriptors') ? gOPD : function getOwnPropertyDescriptor(O, P) {\n  O = toIObject(O);\n  P = toPrimitive(P, true);\n  if (IE8_DOM_DEFINE) try {\n    return gOPD(O, P);\n  } catch (e) { /* empty */ }\n  if (has(O, P)) return createDesc(!pIE.f.call(O, P), O[P]);\n};\n","// 19.1.2.7 / 15.2.3.4 Object.getOwnPropertyNames(O)\nvar $keys = require('./_object-keys-internal');\nvar hiddenKeys = require('./_enum-bug-keys').concat('length', 'prototype');\n\nexports.f = Object.getOwnPropertyNames || function getOwnPropertyNames(O) {\n  return $keys(O, hiddenKeys);\n};\n","// Please keep keys lowercase!\nexports.supportedLanguages = {\n  en: 'English',\n  zh: '简体中文',\n};\n"],"sourceRoot":""}