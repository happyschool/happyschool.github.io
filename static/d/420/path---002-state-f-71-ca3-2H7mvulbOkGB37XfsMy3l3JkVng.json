{"data":{"site":{"siteMetadata":{"title":"HappySchool","author":"Peter Wang"}},"markdownRemark":{"id":"21a1638f-3ff6-53af-ad3d-9188a91c198e","html":"<p><a href=\"/yes/\"></a>\nWhat is Blockchain State Explosion, and why is that a problem? Is all data on a blockchain state? What’s the current situation of Bitcoin and other chains, why we need to solve this before we can move on? With these questions, let’s start this week’s episode.</p>\n<p>A few months ago, I read a post <a href=\"https://talk.nervos.org/t/topic/1515\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://talk.nervos.org/t/topic/1515</a> by @janx, CTO at Nervos Network, which helped me a lot to understand what Blockchain State Explosion is. Before that I was always considering state explosion simply means the blockchain gets too big in size, but now I know I was wrong. However the post is a bit long and takes some time to digest for people don’t know blockchain technology well. So I decide to tell the story again with a bit explanation and leaving some tech details alone. Hopefully my version can be much easier to understand.</p>\n<h2 id=\"what-is-state\"><a href=\"#what-is-state\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>What is State?</h2>\n<p>We know that over time blockchains save data to every each block, we somehow knows that the data, once saved, is not mutable any more. But Is all the data on Blockchain state? Can blockchain state ever be changed?</p>\n<p><img src=\"https://img.haoqicat.com/2019041802.jpg\"></p>\n<p>First question, is all data state? The short answer is NO. let’s say we have an ordinary programing running. there is a variable x, current value is 1. Then 1 is the state of the program, later x is changed to 2, now 1 becomes history, 2 becomes the state of the program. State means not only data but also data in use. </p>\n<p>Likewise, data saved on blockchain can be divided into two categories：</p>\n<ul>\n<li>State — the current data in use.</li>\n<li>History — data besides state, or we can simply call it ‘past data’</li>\n</ul>\n<p>Now the answer for the first question, is all data state? No, there is history too.</p>\n<p><img src=\"https://img.haoqicat.com/2019041803.jpg\"></p>\n<p>The second question is actually interesting. Can state be changed? Surely Yes. Take Bitcoin for example, the state is who owns how much, with new transactions happening constantly, the state changes accordingly. When we say blockchain is IMMUTABLE, we mean the history, not the state.</p>\n<p>Now we know what state means.</p>\n<h2 id=\"what-is-blockchain-state-explosion\"><a href=\"#what-is-blockchain-state-explosion\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>What is Blockchain State Explosion?</h2>\n<p>Next part, let’s figure out what is blockchain state explosion. State explosion means the state size grows too fast and is out of control.</p>\n<p><img src=\"https://img.haoqicat.com/2019041804.jpg\"></p>\n<p>Bitcoin currently does not have this problem, cause the Bitcoin state size only grows linearly. Bitcoin is a ledger, the state of Bitcoin is what the ledger looks like or what everyone’s balance is right now. Within every Bitcoin block, there are transactions, the history consists of all these transactions. The state is all these UTXO, that is Unspent Transaction Output. The size of Bitcoin’s entire history (the size of all blocks combined) is about 200G, and the size of state is only ~3G (consisting of ~50 million UTXO components). With the constraint of fixed block size, the state growth is linear. That is not too much for the network to handle, giving the fact that the price of hardware and bandwidth will going down slowly.</p>\n<p>But smart contract platforms like Ethereum are more vulnerable to the explosion. People need to store all kinds of data on the chain. Once the blockchain get mass adoption the state growth rate will exponentially outpaced the hardware capability growth. Nervos tries to solve this with its layered architecture, the details are out of the scope of this episode.</p>\n<p>So Blockchain State Explosion is becoming a problem.</p>\n<h2 id=\"why-is-it-a-problem\"><a href=\"#why-is-it-a-problem\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Why Is It a Problem?</h2>\n<p>So why is the explosion a problem?</p>\n<p><img src=\"https://img.haoqicat.com/2019041805.jpg\"></p>\n<p>Firstly. Once the blockchain grows too big in size, nodes on the network will have to spend more money for storage hardware, that harms decentralization cause normal people will not be able to afford running a node.</p>\n<p><img src=\"https://img.haoqicat.com/2019041806.jpg\"></p>\n<p>Secondly. History is ignorable, state is not. Nodes sometimes only need to store state to function properly. History can be saved elsewhere and verified by introducing some techniques like checkpoints and zero-knowledge proof when necessary, but if the state explodes, all nodes will have to bear it, because state is indispensable to keep things going.</p>\n<p>That’s why state explosion is a problem for blockchains.</p>\n<h2 id=\"conclusion\"><a href=\"#conclusion\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Conclusion</h2>\n<p>To conclusion this episode. I hope I have made two points really clear. NO.1 Blockchain data can be categorized into two types: history and state. NO.2 Blockchain State Explosion has to be solved before blockchain mass adoption.</p>\n<p>ref:</p>\n<ul>\n<li><a href=\"https://talk.nervos.org/t/blockchain-and-state-explosion/1566\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://talk.nervos.org/t/blockchain-and-state-explosion/1566</a></li>\n<li><a href=\"https://talk.nervos.org/t/topic/1515\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://talk.nervos.org/t/topic/1515</a></li>\n</ul>","timeToRead":3,"frontmatter":{"title":"Blockchain State Explosion","date":"April 18, 2019","spoiler":"What is Blockchain State Explosion, and why is that a problem? Is all data on a blockchain state? What’s the current situation of Bitcoin and other chains, why we need to solve this before we can move on?","plink":"https://img.haoqicat.com/2019041801.jpg","video":"https://www.youtube.com/watch?v=qdoq5i8Ppus"},"fields":{"slug":"/002-state/","langKey":"en"}}},"pageContext":{"slug":"/002-state/","previous":{"fields":{"slug":"/001-rust/","langKey":"en","directoryName":"001-rust","maybeAbsoluteLinks":[]},"frontmatter":{"title":"Why Rust?"}},"next":null,"translations":["zh"],"translatedLinks":[]}}